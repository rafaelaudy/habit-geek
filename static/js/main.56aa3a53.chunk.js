(window["webpackJsonphabit-geek"]=window["webpackJsonphabit-geek"]||[]).push([[0],{28:function(e,t,a){},44:function(e,t,a){e.exports=a(91)},55:function(e,t,a){var n={"./1FullWeek.json":56,"./3FullWeeks.json":57,"./PartialWeeks.json":58};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=55},82:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=a(9),o=a(30),s=a(26),u=(a(59),a(7)),b=(a(28),a(11)),m=a(4),d=a(3),v=a(6),h=(a(82),a(24)),f=a.n(h),p=a(38),y=a.n(p),k=a(39),E=a.n(k),g=a(40),O=a.n(g),j=a(41),w=a.n(j),N=a(42),H=a.n(N),_=[f.a,y.a,E.a,O.a,w.a,H.a],W=function(e){var t=e.name,a=e.avatar,c=e.registerUser,i=Object(n.useState)(t),l=Object(d.a)(i,2),o=l[0],s=l[1],u=Object(n.useState)(a||f.a),m=Object(d.a)(u,2),h=m[0],p=m[1],y=Object(n.useState)(!1),k=Object(d.a)(y,2),E=k[0],g=k[1],O=Object(v.b)().t;return r.a.createElement("form",{className:"mobile-size-container ".concat(E?"was-validated":""),onSubmit:function(e){e.preventDefault(),g(!0),e.target.checkValidity()&&(c(o,h),Object(b.c)("/habits"))},noValidate:!0},r.a.createElement("h2",null,O("profile-title")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"profile-name"},O("profile-name")),r.a.createElement("input",{id:"profile-name",className:"form-control",value:o,onChange:function(e){return s(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-feedback"},O("profile-name-validation"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"profile-avatar"},O("profile-avatar")),r.a.createElement("div",{className:"input-group profile__avatar-container"},_.map((function(e,t){return r.a.createElement("img",{key:"avatar-".concat(t),onClick:function(){return p(e)},src:e,alt:O("profile-avatar-alt-desc"),className:"profile__avatar ".concat(e===h?"profile__avatar--selected":"")})})))),r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},O("profile-save")))},D={registerUser:a(19).b},P=Object(l.b)((function(e){var t=e.user;return{name:t.name,avatar:t.avatar}}),D)(W),S=a(2),C=function(e){var t=e.id,a=e.name,c=void 0===a?"":a,i=e.type,l=void 0===i?"":i,o=e.frequency,s=void 0===o?"":o,u=e.saveHabit,b=e.deleteHabit,m=e.onGoBack,h=Object(n.useState)(c),f=Object(d.a)(h,2),p=f[0],y=f[1],k=Object(n.useState)(l),E=Object(d.a)(k,2),g=E[0],O=E[1],j=Object(n.useState)(s),w=Object(d.a)(j,2),N=w[0],H=w[1],_=Object(n.useState)(!1),W=Object(d.a)(_,2),D=W[0],P=W[1],S=Object(v.b)().t,C=S("save-habit-type-options",{returnObjects:!0});return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),P(!0),e.target.checkValidity()&&(u(t,p,g,N),m())},className:"mobile-size-container ".concat(D?"was-validated":""),noValidate:!0},r.a.createElement("h2",null,S(t?"save-habit-edit-title":"save-habit-new-title")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"new-habit-name"},S("save-habit-name")),r.a.createElement("input",{id:"new-habit-name",className:"form-control",value:p,onChange:function(e){return y(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-feedback"},S("save-habit-name-validation"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"new-habit-type"},S("save-habit-type")),r.a.createElement("select",{id:"new-habit-type",className:"form-control",value:g,onChange:function(e){return O(e.target.value)},onBlur:function(e){return O(e.target.value)},required:!0},r.a.createElement("option",{value:""}),C.map((function(e){var t=e.key,a=e.label;return r.a.createElement("option",{key:"save-habit-type-option-".concat(t),value:a},a)}))),r.a.createElement("div",{className:"invalid-feedback"},S("save-habit-type-validation"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"new-habit-frequency"},S("save-habit-frequency")),r.a.createElement("select",{id:"new-habit-frequency",className:"form-control",value:N,onChange:function(e){return H(e.target.value)},onBlur:function(e){return H(e.target.value)},required:!0},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"1"},"1x"),r.a.createElement("option",{value:"2"},"2x"),r.a.createElement("option",{value:"3"},"3x"),r.a.createElement("option",{value:"4"},"4x"),r.a.createElement("option",{value:"5"},"5x"),r.a.createElement("option",{value:"6"},"6x"),r.a.createElement("option",{value:"7"},"7x")),r.a.createElement("div",{className:"invalid-feedback"},S("save-habit-frequency-validation"))),r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block"},S("save-habit-save")),t?r.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg btn-block",onClick:function(){b(t),m()}},S("save-habit-delete")):null,r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-lg btn-block",onClick:m},S("save-habit-cancel")))},x=a(20),F=a(16),q=function(e){var t=e.week,a=e.name,n=e.onUpdateHabit;return t===Object(m.a)()?r.a.createElement("button",{className:"icon-button icon-button__edit btn btn-link",onClick:function(){return n(a)}},r.a.createElement(x.a,{icon:F.c})):r.a.createElement("div",{className:"icon-button"})},U=a(43),R=(a(86),function(e){var t=e.day,a=e.isChecked,c=e.clickHandler,i=e.isDisabled,l=e.isReadOnly;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{className:"toggle"},r.a.createElement("input",{className:"toggle__input",onChange:c,type:"checkbox",checked:a,disabled:!l&&i,"data-readonly":l}),r.a.createElement("span",{className:"toggle__day"},t),r.a.createElement("span",{className:"toggle__label","data-readonly":l},r.a.createElement("span",{className:"toggle__text"}))))}),B=(a(87),function(e){var t=e.week,a=e.name,n=e.checked,c=e.habitSucceded,i=e.habitFailed,l=e.isReadOnly,o=e.toggleDayHabit,s=(0,Object(v.b)().t)("date-days-short",{returnObjects:!0}),u=Object(m.b)(),b=Object(m.a)(),d=t===b,h=c?"table-success":"",f=i?"table-danger":"";return r.a.createElement("div",{className:"habit-row-frequency ".concat(h," ").concat(f)},Object(U.a)(Array(7).keys()).map((function(e){var c=Object(m.d)(t,e)?"habit-row-frequency__cell--today":"",i=!!d&&u<e;return r.a.createElement("div",{className:"habit-row-frequency__cell ".concat(c),key:"check-".concat(a,"-").concat(e)},r.a.createElement(R,{day:s[e],clickHandler:function(){return o(t,a,e)},isChecked:n[e],isDisabled:i,isReadOnly:l}))})))}),z=(a(88),function(e){var t=e.week,a=e.habits,n=e.isReadOnly,c=e.toggleDayHabit,i=e.onUpdateHabit;return a.map((function(e,a){var l=e.name,o=e.frequency,s=e.checked,u=e.habitSucceded,b=e.habitFailed;return r.a.createElement("div",{key:"check-container-".concat(a),className:"habit-row"},r.a.createElement("div",{className:"habit-row__title"},r.a.createElement("span",null,"(",o,"x) - ",l)),r.a.createElement(B,{week:t,name:l,checked:s,habitSucceded:u,habitFailed:b,isReadOnly:n,toggleDayHabit:c}),n?null:r.a.createElement(q,{week:t,name:l,onUpdateHabit:i}))}))}),V=function(e){var t=e.week,a=e.habits,n=e.isReadOnly,c=e.onUpdateHabit,i=e.toggleDayHabit;return a.length>0?r.a.createElement("div",{className:"mb-3"},r.a.createElement(z,{habits:a,week:t,isReadOnly:n,toggleDayHabit:i,onUpdateHabit:c})):null},A=function(e){var t=e.week,a=e.isCurrentWeek,n=e.hasPreviousWeek,c=e.toggleWeek,i=function(){return c(!a)},l=function(e,t,a){return r.a.createElement("button",{className:"icon-button icon-button-".concat(e," btn btn-link ").concat(a?"disabled":""),onClick:i},r.a.createElement(x.a,{icon:t}))};return r.a.createElement("div",{className:"mb-3 d-flex justify-content-center align-items-baseline"},n?l("previous",F.a,!a):null,r.a.createElement("h5",{className:"dashboard-week-header"},Object(m.c)(t)),n?l("forward",F.b,a):null)},G=function(e){var t=e.username,a=e.currentHabits,c=e.previousHabits,i=e.currentWeek,l=e.previousWeek,o=e.onAddNewHabit,s=e.onUpdateHabit,u=e.toggleDayHabit,b=Object(n.useState)(!0),m=Object(d.a)(b,2),h=m[0],f=m[1],p=Object(v.b)().t,y=t?" "+t:t;return r.a.createElement("div",{className:"large-size-container"},r.a.createElement("h2",{className:"mb-3"},p("my-habits-title",{username:y})),r.a.createElement(A,{week:h?i:l,isCurrentWeek:h,hasPreviousWeek:l,toggleWeek:f}),r.a.createElement(V,{habits:h?a:c,week:h?i:l,toggleDayHabit:u,onUpdateHabit:s}),h?r.a.createElement(n.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:o},p("my-habits-new-habit")))):null)},J=function(e){var t=e.username,a=e.currentHabits,c=e.previousHabits,i=e.currentWeek,l=e.previousWeek,o=e.saveHabit,s=e.deleteHabit,u=e.toggleDayHabit,b=Object(n.useState)({}),m=Object(d.a)(b,2),v=m[0],h=m[1];if(v.isEditing){var f=v.id?a.filter((function(e){return e.name===v.id}))[0]:{},p=f.name,y=f.frequency,k=f.type;return r.a.createElement(C,{id:v.id,name:p,frequency:y,type:k,saveHabit:o,deleteHabit:s,onGoBack:function(){return h({})}})}return r.a.createElement(G,{username:t,currentHabits:a,previousHabits:c,currentWeek:i,previousWeek:l,onAddNewHabit:function(){return h({isEditing:!0})},onUpdateHabit:function(e){return h({isEditing:!0,id:e})},toggleDayHabit:u})};function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var I=function(e){return e?Object.keys(e).sort().map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:t},e[t])})):[]},L={saveHabit:u.g,deleteHabit:u.f,toggleDayHabit:u.i},M=Object(l.b)((function(e){var t=e.habits,a=e.user,n=t.currentWeek,r=t.previousWeek,c=I(t.weeks[t.currentWeek]),i=I(t.weeks[t.previousWeek]);return{username:a.name,currentHabits:c,previousHabits:i,currentWeek:n,previousWeek:i.length&&r}}),L)(J);a(89);var K=function(e){var t=Object(v.b)().t,a=function(e){return{className:e.isCurrent?"nav-item nav-link active":"nav-item nav-link"}};return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark header"},r.a.createElement(b.a,{className:"navbar-brand",to:"/habit-geek/habits"},"Habit Geek!"),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(b.a,{getProps:a,to:"/habit-geek/habits"},t("nav-my-habits")),r.a.createElement(b.a,{getProps:a,to:"/habit-geek/history"},t("nav-history")),r.a.createElement(b.a,{getProps:a,to:"/habit-geek/profile"},t("nav-profile")))))};var Q=function(e){var t=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(K,null),t)};a(90);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Y=function(e){var t=e.weeks,a=Object(n.useState)(Object(S.a)({},t[0]?t[0].week:"empty",!0)),c=Object(d.a)(a,2),i=c[0],l=c[1],o=Object(v.b)().t,s=function(e){l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i,Object(S.a)({},e,!i[e])))};return r.a.createElement("div",{className:"history large-size-container"},0===t.length?r.a.createElement("h2",{className:"mb-3 history__empty-data"},o("history-title-empty-data")):r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"mb-3"},o("history-title")),r.a.createElement("div",{id:"history-accordion"},t.map((function(e){var t=e.week,a=e.habits;return r.a.createElement("div",{className:"card",key:"history-habit-".concat(t)},r.a.createElement("div",{className:"card-header history__header",id:"history-habit-header-".concat(t)},r.a.createElement("button",{className:"btn btn-secondary history__header-button","aria-expanded":i[t]?"True":"False","aria-controls":"history-habit-content-".concat(t),onClick:function(){return s(t)}},Object(m.c)(t))),r.a.createElement("div",{id:"history-habit-content-".concat(t),className:"collapse ".concat(i[t]?"show":""),"aria-labelledby":"history-habit-header-".concat(t)},r.a.createElement("div",{className:"card-body"},function(e,t){return r.a.createElement(V,{key:"history-habit-table-".concat(t),habits:e,isReadOnly:!0,toggleDayHabit:function(){}})}(a,t))))})))))},Z=Object(l.b)((function(e){var t=e.habits,a=Object.keys(t.weeks).sort().map((function(e){var a=Object.keys(t.weeks[e]);return 0!==a.length&&{week:e,habits:a.map((function(a){return t.weeks[e][a]}))}})).filter((function(e){return e})).reverse();return a.shift(),{weeks:a}}))(Y);var $=function(e){var t=e.currentWeek,a=e.startNewWeek,n=e.updateCurrentWeekStatuses;return t!==Object(m.a)()?a():n(),r.a.createElement("div",null,r.a.createElement(b.b,null,r.a.createElement(Q,{path:"/habit-geek",default:!0},r.a.createElement(M,{path:"/habit-geek/habits",default:!0}),r.a.createElement(P,{path:"/habit-geek/profile"}),r.a.createElement(Z,{path:"/habit-geek/history"}))))},ee={startNewWeek:u.h,updateCurrentWeekStatuses:u.j},te=Object(l.b)((function(e){return{currentWeek:e.habits.currentWeek}}),ee)($);i.a.render(r.a.createElement(l.a,{store:s.b},r.a.createElement(o.a,{loading:null,persistor:s.a},r.a.createElement(te,null))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.56aa3a53.chunk.js.map