(window["webpackJsonphabit-geek"]=window["webpackJsonphabit-geek"]||[]).push([[0],{29:function(e,t,a){},45:function(e,t,a){e.exports=a(92)},56:function(e,t,a){var n={"./1FullWeek.json":57,"./3FullWeeks.json":58,"./PartialWeeks.json":59};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=56},83:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),i=a(6),o=a(31),s=a(27),u=(a(60),a(9)),b=(a(29),a(8)),m=a(5),d=a(2),v=a(3),f=a(15),p=function(e){var t=e.email,a=e.password,c=e.setEmail,l=e.setPassword,i=Object(v.b)().t;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"user-form-email"},i("user-form-email")),r.a.createElement("input",{id:"user-form-email",className:"form-control",value:t,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-feedback"},i("user-form-email-validation"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"user-form-password"},i("user-form-password")),r.a.createElement("input",{id:"user-form-password",className:"form-control",value:a,onChange:function(e){return l(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-feedback"},i("user-form-password-validation"))))},h=function(e){var t=e.saveSession,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),u=s[0],m=s[1],h=Object(n.useState)(!1),g=Object(d.a)(h,2),E=g[0],k=g[1],y=Object(v.b)().t;return r.a.createElement("div",{className:"mobile-size-container"},r.a.createElement("form",{className:"".concat(E?"was-validated":""),onSubmit:function(e){e.preventDefault(),k(!0),e.target.checkValidity()&&f.b(l,u).then(t).catch((function(){}))},noValidate:!0},r.a.createElement("h2",null,y("login-title")),r.a.createElement(p,{email:l,password:u,setEmail:i,setPassword:m}),r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},y("login-login"))),r.a.createElement("div",null,y("login-sign-up-label"),r.a.createElement("button",{onClick:function(){return Object(b.c)("/habit-geek/signup")},className:"px-0 btn btn-link"},y("login-sign-up"))),r.a.createElement("div",null,y("login-forgot-password-label"),r.a.createElement("button",{onClick:function(){return Object(b.c)("/habit-geek/forgotpassword")},className:"px-0 btn btn-link"},y("login-forgot-password"))))},g=(a(83),a(25)),E=a.n(g),k=a(39),y=a.n(k),O=a(40),j=a.n(O),w=a(41),N=a.n(w),H=a(42),S=a.n(H),_=a(43),C=a.n(_),D=[E.a,y.a,j.a,N.a,S.a,C.a],W=function(e){var t=e.name,a=e.avatar,c=e.saveUser,l=e.logout,i=Object(n.useState)(t),o=Object(d.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(a||E.a),f=Object(d.a)(m,2),p=f[0],h=f[1],g=Object(n.useState)(!1),k=Object(d.a)(g,2),y=k[0],O=k[1],j=Object(v.b)().t;return r.a.createElement("form",{className:"mobile-size-container ".concat(y?"was-validated":""),onSubmit:function(e){e.preventDefault(),O(!0),e.target.checkValidity()&&(c(s,p),Object(b.c)("/habits"))},noValidate:!0},r.a.createElement("h2",null,j("profile-title")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"profile-name"},j("profile-name")),r.a.createElement("input",{id:"profile-name",className:"form-control",value:s,onChange:function(e){return u(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-feedback"},j("profile-name-validation"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"profile-avatar"},j("profile-avatar")),r.a.createElement("div",{className:"input-group profile__avatar-container"},D.map((function(e,t){return r.a.createElement("img",{key:"avatar-".concat(t),onClick:function(){return h(e)},src:e,alt:j("profile-avatar-alt-desc"),className:"profile__avatar ".concat(e===p?"profile__avatar--selected":"")})})))),r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},j("profile-save")),r.a.createElement("button",{onClick:l,className:"btn btn-secondary btn-lg btn-block"},j("profile-logout")))},P=a(11),F={saveUser:P.d,logout:function(){return Object(P.c)()}},x=Object(i.b)((function(e){var t=e.user;return{name:t.name,avatar:t.avatar}}),F)(W),q=function(e){var t=e.jwt,a=e.saveSession;return t?r.a.createElement(x,null):r.a.createElement(h,{saveSession:a})},U={saveSession:P.c},V=Object(i.b)((function(e){return{jwt:e.user.jwt}}),U)(q),R=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(d.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),m=b[0],p=b[1],h=Object(v.b)().t;return r.a.createElement("div",{className:"mobile-size-container"},r.a.createElement("form",{className:"".concat(m?"was-validated":""),onSubmit:function(e){e.preventDefault(),p(!0),e.target.checkValidity()&&f.a(a).then((function(){return s(h("forgot-password-email-sent-message"))})).catch((function(){return s(h("forgot-password-email-not-sent"))}))},noValidate:!0},r.a.createElement("h2",null,h("forgot-password-title")),o?r.a.createElement(n.Fragment,null,r.a.createElement("div",null,o),h("forgot-password-try-again-label"),r.a.createElement("button",{onClick:function(){return s(void 0)},className:"px-0 btn btn-link"},h("forgot-password-try-again"))):r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"user-form-email"},h("user-form-email")),r.a.createElement("input",{id:"user-form-email",className:"form-control",value:a,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-feedback"},h("user-form-email-validation")),r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},h("forgot-password-forgot-password")))))},z=function(e){var t=e.jwt,a=e.saveSession,c=Object(n.useState)(""),l=Object(d.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(""),u=Object(d.a)(s,2),m=u[0],h=u[1],g=Object(n.useState)(!1),E=Object(d.a)(g,2),k=E[0],y=E[1],O=Object(v.b)().t;t&&Object(b.c)("/habit-geek/profile");return r.a.createElement("div",{className:"mobile-size-container"},r.a.createElement("form",{className:"".concat(k?"was-validated":""),onSubmit:function(e){e.preventDefault(),y(!0),e.target.checkValidity()&&f.c(i,m).then(a).catch((function(){}))},noValidate:!0},r.a.createElement("h2",null,O("sign-up-title")),r.a.createElement(p,{email:i,password:m,setEmail:o,setPassword:h}),r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block"},O("sign-up-sign-up"))),r.a.createElement("div",null,O("sign-up-go-to-login-label"),r.a.createElement("button",{onClick:function(){return Object(b.c)("/habit-geek/login")},className:"px-0 btn btn-link"},O("sign-up-go-to-login"))))},B={saveSession:P.c},A=Object(i.b)((function(e){return{jwt:e.user.jwt}}),B)(z),G=a(4),J=function(e){var t=e.id,a=e.name,c=void 0===a?"":a,l=e.type,i=void 0===l?"":l,o=e.frequency,s=void 0===o?"":o,u=e.saveHabit,b=e.deleteHabit,m=e.onGoBack,f=Object(n.useState)(c),p=Object(d.a)(f,2),h=p[0],g=p[1],E=Object(n.useState)(i),k=Object(d.a)(E,2),y=k[0],O=k[1],j=Object(n.useState)(s),w=Object(d.a)(j,2),N=w[0],H=w[1],S=Object(n.useState)(!1),_=Object(d.a)(S,2),C=_[0],D=_[1],W=Object(v.b)().t,P=W("save-habit-type-options",{returnObjects:!0});return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),D(!0),e.target.checkValidity()&&(u(t,h,y,N),m())},className:"mobile-size-container ".concat(C?"was-validated":""),noValidate:!0},r.a.createElement("h2",null,W(t?"save-habit-edit-title":"save-habit-new-title")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"new-habit-name"},W("save-habit-name")),r.a.createElement("input",{id:"new-habit-name",className:"form-control",value:h,onChange:function(e){return g(e.target.value)},required:!0}),r.a.createElement("div",{className:"invalid-feedback"},W("save-habit-name-validation"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"new-habit-type"},W("save-habit-type")),r.a.createElement("select",{id:"new-habit-type",className:"form-control",value:y,onChange:function(e){return O(e.target.value)},onBlur:function(e){return O(e.target.value)},required:!0},r.a.createElement("option",{value:""}),P.map((function(e){var t=e.key,a=e.label;return r.a.createElement("option",{key:"save-habit-type-option-".concat(t),value:a},a)}))),r.a.createElement("div",{className:"invalid-feedback"},W("save-habit-type-validation"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("label",{htmlFor:"new-habit-frequency"},W("save-habit-frequency")),r.a.createElement("select",{id:"new-habit-frequency",className:"form-control",value:N,onChange:function(e){return H(e.target.value)},onBlur:function(e){return H(e.target.value)},required:!0},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"1"},"1x"),r.a.createElement("option",{value:"2"},"2x"),r.a.createElement("option",{value:"3"},"3x"),r.a.createElement("option",{value:"4"},"4x"),r.a.createElement("option",{value:"5"},"5x"),r.a.createElement("option",{value:"6"},"6x"),r.a.createElement("option",{value:"7"},"7x")),r.a.createElement("div",{className:"invalid-feedback"},W("save-habit-frequency-validation"))),r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block"},W("save-habit-save")),t?r.a.createElement("button",{type:"button",className:"btn btn-danger btn-lg btn-block",onClick:function(){b(t),m()}},W("save-habit-delete")):null,r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-lg btn-block",onClick:m},W("save-habit-cancel")))},T=a(21),I=a(18),L=function(e){var t=e.week,a=e.name,n=e.onUpdateHabit;return t===Object(m.a)()?r.a.createElement("button",{className:"icon-button icon-button__edit btn btn-link",onClick:function(){return n(a)}},r.a.createElement(T.a,{icon:I.c})):r.a.createElement("div",{className:"icon-button"})},M=a(44),K=(a(87),function(e){var t=e.day,a=e.isChecked,c=e.clickHandler,l=e.isDisabled,i=e.isReadOnly;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{className:"toggle"},r.a.createElement("input",{className:"toggle__input",onChange:c,type:"checkbox",checked:a,disabled:!i&&l,"data-readonly":i}),r.a.createElement("span",{className:"toggle__day"},t),r.a.createElement("span",{className:"toggle__label","data-readonly":i},r.a.createElement("span",{className:"toggle__text"}))))}),Q=(a(88),function(e){var t=e.week,a=e.name,n=e.checked,c=e.habitSucceded,l=e.habitFailed,i=e.isReadOnly,o=e.toggleDayHabit,s=(0,Object(v.b)().t)("date-days-short",{returnObjects:!0}),u=Object(m.b)(),b=Object(m.a)(),d=t===b,f=c?"table-success":"",p=l?"table-danger":"";return r.a.createElement("div",{className:"habit-row-frequency ".concat(f," ").concat(p)},Object(M.a)(Array(7).keys()).map((function(e){var c=Object(m.d)(t,e)?"habit-row-frequency__cell--today":"",l=!!d&&u<e;return r.a.createElement("div",{className:"habit-row-frequency__cell ".concat(c),key:"check-".concat(a,"-").concat(e)},r.a.createElement(K,{day:s[e],clickHandler:function(){return o(t,a,e)},isChecked:n[e],isDisabled:l,isReadOnly:i}))})))}),X=(a(89),function(e){var t=e.week,a=e.habits,n=e.isReadOnly,c=e.toggleDayHabit,l=e.onUpdateHabit;return a.map((function(e,a){var i=e.name,o=e.frequency,s=e.checked,u=e.habitSucceded,b=e.habitFailed;return r.a.createElement("div",{key:"check-container-".concat(a),className:"habit-row"},r.a.createElement("div",{className:"habit-row__title"},r.a.createElement("span",null,"(",o,"x) - ",i)),r.a.createElement(Q,{week:t,name:i,checked:s,habitSucceded:u,habitFailed:b,isReadOnly:n,toggleDayHabit:c}),n?null:r.a.createElement(L,{week:t,name:i,onUpdateHabit:l}))}))}),Y=function(e){var t=e.week,a=e.habits,n=e.isReadOnly,c=e.onUpdateHabit,l=e.toggleDayHabit;return a.length>0?r.a.createElement(X,{habits:a,week:t,isReadOnly:n,toggleDayHabit:l,onUpdateHabit:c}):null},Z=function(e){var t=e.week,a=e.isCurrentWeek,n=e.hasPreviousWeek,c=e.toggleWeek,l=function(){return c(!a)},i=function(e,t,a){return r.a.createElement("button",{className:"icon-button icon-button-".concat(e," btn btn-link ").concat(a?"disabled":""),onClick:l},r.a.createElement(T.a,{icon:t}))};return r.a.createElement("div",{className:"mb-3 d-flex justify-content-center align-items-baseline"},n?i("previous",I.a,!a):null,r.a.createElement("h5",{className:"dashboard-week-header"},Object(m.c)(t)),n?i("forward",I.b,a):null)},$=function(e){var t=e.username,a=e.currentHabits,c=e.previousHabits,l=e.currentWeek,i=e.previousWeek,o=e.onAddNewHabit,s=e.onUpdateHabit,u=e.toggleDayHabit,b=Object(n.useState)(!0),m=Object(d.a)(b,2),f=m[0],p=m[1],h=Object(v.b)().t,g=t?" "+t:t;return r.a.createElement("div",{className:"large-size-container"},r.a.createElement("h2",{className:"mb-3"},h("my-habits-title",{username:g})),r.a.createElement(Z,{week:f?l:i,isCurrentWeek:f,hasPreviousWeek:i,toggleWeek:p}),r.a.createElement("div",{className:"mb-3"},r.a.createElement(Y,{habits:f?a:c,week:f?l:i,toggleDayHabit:u,onUpdateHabit:s})),f?r.a.createElement(n.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:o},h("my-habits-new-habit")))):null)},ee=function(e){var t=e.username,a=e.currentHabits,c=e.previousHabits,l=e.currentWeek,i=e.previousWeek,o=e.saveHabit,s=e.deleteHabit,u=e.toggleDayHabit,b=Object(n.useState)({}),m=Object(d.a)(b,2),v=m[0],f=m[1];if(v.isEditing){var p=v.id?a.filter((function(e){return e.name===v.id}))[0]:{},h=p.name,g=p.frequency,E=p.type;return r.a.createElement(J,{id:v.id,name:h,frequency:g,type:E,saveHabit:o,deleteHabit:s,onGoBack:function(){return f({})}})}return r.a.createElement($,{username:t,currentHabits:a,previousHabits:c,currentWeek:l,previousWeek:i,onAddNewHabit:function(){return f({isEditing:!0})},onUpdateHabit:function(e){return f({isEditing:!0,id:e})},toggleDayHabit:u})};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ae=function(e){return e?Object.keys(e).sort().map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:t},e[t])})):[]},ne={saveHabit:u.g,deleteHabit:u.f,toggleDayHabit:u.i},re=Object(i.b)((function(e){var t=e.habits,a=e.user,n=t.currentWeek,r=t.previousWeek,c=ae(t.weeks[t.currentWeek]),l=ae(t.weeks[t.previousWeek]);return{username:a.name,currentHabits:c,previousHabits:l,currentWeek:n,previousWeek:l.length&&r}}),ne)(ee);a(90);var ce=function(e){var t,a,n=e.jwt,c=Object(v.b)().t,l=function(e){return{className:e.isCurrent?"nav-item nav-link active":"nav-item nav-link"}};return n?(t="/habit-geek/profile",a=c("nav-profile")):(t="/habit-geek/login",a=c("nav-login")),r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark header"},r.a.createElement(b.a,{className:"navbar-brand",to:"/habit-geek/habits"},"Habit Geek!"),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(b.a,{getProps:l,to:"/habit-geek/habits"},c("nav-my-habits")),r.a.createElement(b.a,{getProps:l,to:"/habit-geek/history"},c("nav-history")),r.a.createElement(b.a,{getProps:l,to:t},a))))},le=Object(i.b)((function(e){return{jwt:e.user.jwt}}))(ce);var ie=function(e){var t=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(le,null),t)};a(91);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var se=function(e){var t=e.weeks,a=Object(n.useState)(Object(G.a)({},t[0]?t[0].week:"empty",!0)),c=Object(d.a)(a,2),l=c[0],i=c[1],o=Object(v.b)().t,s=function(e){i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,Object(G.a)({},e,!l[e])))};return r.a.createElement("div",{className:"history large-size-container"},0===t.length?r.a.createElement("h2",{className:"mb-3 history__empty-data"},o("history-title-empty-data")):r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"mb-3"},o("history-title")),r.a.createElement("div",{id:"history-accordion"},t.map((function(e){var t=e.week,a=e.habits;return r.a.createElement("div",{className:"card",key:"history-habit-".concat(t)},r.a.createElement("div",{className:"card-header history__header",id:"history-habit-header-".concat(t)},r.a.createElement("button",{className:"btn btn-secondary history__header-button","aria-expanded":l[t]?"True":"False","aria-controls":"history-habit-content-".concat(t),onClick:function(){return s(t)}},Object(m.c)(t))),r.a.createElement("div",{id:"history-habit-content-".concat(t),className:"collapse ".concat(l[t]?"show":""),"aria-labelledby":"history-habit-header-".concat(t)},r.a.createElement("div",{className:"card-body"},function(e,t){return r.a.createElement(Y,{key:"history-habit-table-".concat(t),habits:e,isReadOnly:!0,toggleDayHabit:function(){}})}(a,t))))})))))},ue=Object(i.b)((function(e){var t=e.habits,a=Object.keys(t.weeks).sort().map((function(e){var a=Object.keys(t.weeks[e]);return 0!==a.length&&{week:e,habits:a.map((function(a){return t.weeks[e][a]}))}})).filter((function(e){return e})).reverse();return a.shift(),{weeks:a}}))(se);var be=function(e){var t=e.currentWeek,a=e.startNewWeek,n=e.updateCurrentWeekStatuses;return t!==Object(m.a)()?a():n(),r.a.createElement("div",null,r.a.createElement(b.b,null,r.a.createElement(ie,{path:"/habit-geek",default:!0},r.a.createElement(re,{path:"/habit-geek/habits",default:!0}),r.a.createElement(V,{path:"/habit-geek/profile"}),r.a.createElement(V,{path:"/habit-geek/login"}),r.a.createElement(R,{path:"/habit-geek/forgotpassword"}),r.a.createElement(A,{path:"/habit-geek/signup"}),r.a.createElement(ue,{path:"/habit-geek/history"}))))},me={startNewWeek:u.h,updateCurrentWeekStatuses:u.j},de=Object(i.b)((function(e){return{currentWeek:e.habits.currentWeek}}),me)(be);l.a.render(r.a.createElement(i.a,{store:s.b},r.a.createElement(o.a,{loading:null,persistor:s.a},r.a.createElement(de,null))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.7e2a1042.chunk.js.map